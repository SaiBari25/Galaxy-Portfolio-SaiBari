import {
  CopyShader
} from "./chunk-JII6SWYL.js";
import {
  FullScreenQuad,
  Pass
} from "./chunk-N7FJSAMV.js";
import {
  HalfFloatType,
  NoBlending,
  ShaderMaterial,
  UniformsUtils,
  WebGLRenderTarget
} from "./chunk-7UGTEE5N.js";
import "./chunk-DC5AMYBS.js";

// node_modules/three/examples/jsm/postprocessing/SavePass.js
var SavePass = class extends Pass {
  constructor(renderTarget) {
    super();
    const shader = CopyShader;
    this.textureID = "tDiffuse";
    this.uniforms = UniformsUtils.clone(shader.uniforms);
    this.material = new ShaderMaterial({
      uniforms: this.uniforms,
      vertexShader: shader.vertexShader,
      fragmentShader: shader.fragmentShader,
      blending: NoBlending
    });
    this.renderTarget = renderTarget;
    if (this.renderTarget === void 0) {
      this.renderTarget = new WebGLRenderTarget(1, 1, { type: HalfFloatType });
      this.renderTarget.texture.name = "SavePass.rt";
    }
    this.needsSwap = false;
    this.fsQuad = new FullScreenQuad(this.material);
  }
  render(renderer, writeBuffer, readBuffer) {
    if (this.uniforms[this.textureID]) {
      this.uniforms[this.textureID].value = readBuffer.texture;
    }
    renderer.setRenderTarget(this.renderTarget);
    if (this.clear) renderer.clear();
    this.fsQuad.render(renderer);
  }
  setSize(width, height) {
    this.renderTarget.setSize(width, height);
  }
  dispose() {
    this.renderTarget.dispose();
    this.material.dispose();
    this.fsQuad.dispose();
  }
};
export {
  SavePass
};
//# sourceMappingURL=three_addons_postprocessing_SavePass__js.js.map
